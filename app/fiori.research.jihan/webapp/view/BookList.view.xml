<mvc:View
    controllerName="fiori.research.jihan.controller.BookList"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
>
    <SplitApp id="SplitApp">
        <!-- MASTER: Authors List on the left side -->
        <masterPages>
            <Page title="Dashboard">
                <!-- Subheader toolbar with title and Add button -->
                <subHeader>
                    <Toolbar>
                        <Title text="Authors" />
                        <ToolbarSpacer />

                        <Button
                            icon="sap-icon://add"
                            tooltip="Add Author"
                            press=".onAddAuthor"
                        />

                            <Button
                            icon="sap-icon://edit"
                            tooltip="Edit Author"
                            press=".onEditAuthor"
                        />

                        <Button
                            icon="sap-icon://delete"
                            type="Reject"
                            tooltip="Delete Author"
                            press=".onDeleteAuthor"
                        />
                    </Toolbar>
                </subHeader>

                <!-- List bound to the /Authors OData endpoint -->
                <List
                    id="authorList"
                    mode="SingleSelectMaster"
                    items="{ path:'/Authors',
                                 parameters: {
                                    $filter: 'isDeleted eq false'
                                 } 
                            }"
                             itemPress=".onAuthorSelect"
                    selectionChange=".onAuthorSelect"
                >
                    <!-- Template for each author -->
                    <StandardListItem
                        title="{name}"
                        description="{bio}"
                        type="Active"
                    />
                </List>
            </Page>
        </masterPages>

 <!-- DETAIL: Books Table on the right side -->
        <detailPages>
            <Page
                id="detailPage"
                title="Book List"
            >
                 <subHeader>
                    <Toolbar>
                        <ToolbarSpacer />

                        <Button
                            id="addBookBtn"
                            icon="sap-icon://add"
                            tooltip="Add Book"
                            press=".onAddBook"
                        />
                        <Button
                            id="editBookBtn"
                            icon="sap-icon://edit"
                            tooltip="Edit Selected Book"
                            press=".onEditBook"
                        />
                        <Button
                            id="deleteBookBtn"
                            icon="sap-icon://delete"
                            tooltip="Delete Selected Book"
                            type="Reject"
                            press=".onDeleteBook"
                        />
                    </Toolbar>
                </subHeader>

                <Table
                    id="booksTable"
                    mode="SingleSelectMaster"
                >
                    <columns>
                        <Column width="25%">
                            <Text text="Title" />
                        </Column>
                        <Column width="35%">
                            <Text text="Description" />
                        </Column>
                        <Column
                            width="15%"
                            hAlign="Center"
                        >
                            <Text text="Stock" />
                        </Column>
                        <Column
                            width="25%"
                            hAlign="Center"
                        >
                            <Text text="Price" />
                        </Column>
                    </columns>
                </Table>
            </Page>
        </detailPages>
    </SplitApp>
</mvc:View>
